# -----------------------------
# Backend Dockerfile (Node.js)
# Generated by DevOps Platform
# -----------------------------

FROM node:18-alpine

WORKDIR /app

ENV NODE_ENV=production
ENV PORT=3000

# Copy dependency files first
COPY backend/package*.json ./

RUN npm install --production

# Copy backend source
COPY backend/ .

EXPOSE 3000

# Start application (platform-safe)
CMD ["node","."]